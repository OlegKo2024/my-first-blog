from django.shortcuts import render

# Create your views here.

def post_list_00(request):
    context = {
        'title': '–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±–ª–æ–≥–∞'                   # –ü–µ—Ä–µ–¥–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é title –≤ –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω post_list.html
    }
    return render(request, 'app_blog/post_list.html', context)
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º / —Å–ª—ç—à –∫–æ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –ø—É—Ç—å –∫ —à–∞–±–ª–æ–Ω—É –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ  (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–ª—è render), –∞ –Ω–µ –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ–º
    # Django –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É—Ç—å –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —à–∞–±–ª–æ–Ω–æ–≤ (TEMPLATES['DIRS'] –∏–ª–∏ app/templates/)
    # –®–∞–±–ª–æ–Ω—ã –∏—â—É—Ç—Å—è –≤ –ø–∞–ø–∫–µ templates –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
        # –¢–æ—á–∫–∞ (.) ‚Äî –∫–æ–≥–¥–∞ –¥–µ–ª–æ —Å–≤—è–∑–∞–Ω–æ —Å Python-–∫–æ–¥–æ–º (–∏–º–ø–æ—Ä—Ç—ã, –∑–∞–ø—É—Å–∫, –º–æ–¥—É–ª–∏, –∫–ª–∞—Å—Å—ã).
        # –°–ª—ç—à (/) ‚Äî –∫–æ–≥–¥–∞ –¥–µ–ª–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –ø–∞–ø–∫–∞–º–∏ (—à–∞–±–ª–æ–Ω—ã, —Å—Ç–∞—Ç–∏–∫–∞, –º–µ–¥–∏–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–µ–π –≤ –û–°).

from django.utils import timezone
from .models import Post

def post_list(request):
    posts = Post.objects.filter(published_date__lte=timezone.now()).order_by('published_date')
    context = {
        'title': 'Blog list',
        'post': posts
    }
    return render(request, 'app_blog/post_list.html', context)

# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ Post.object
# Post ‚Äî –ø—Ä–æ—Å—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ (–∫–∞–∫–∏–µ –ø–æ–ª—è –µ—Å—Ç—å —É –ø–æ—Å—Ç–∞)
# Post.objects ‚Äî "—Ä–æ–±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫", –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
# –ú–µ—Ç–æ–¥—ã ‚Äî –∫–æ–º–∞–Ω–¥—ã —ç—Ç–æ–º—É "—Ä–æ–±–æ—Ç—É"
# –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ "—Ä–æ–±–æ—Ç" –Ω–∞—à–µ–ª –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö


# –≠—Ç–æ —Ç–∏–ø–∏—á–Ω–∞—è view-—Ñ—É–Ω–∫—Ü–∏—è –≤ Django, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP-–æ—Ç–≤–µ—Ç
# def post_list(request):
    # post_list ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º, –Ω–æ –æ–±—ã—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–æ–≥–∏–∫–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, home, article_list –∏ —Ç. –¥.).
    # request ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç. –≠—Ç–æ –æ–±—ä–µ–∫—Ç HttpRequest, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
        # –î–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ (GET, POST, headers, user, session –∏ —Ç. –¥.).
        # –ú–µ—Ç–æ–¥—ã (request.method, request.GET.get() –∏ –¥—Ä.)
# return render(request, 'app_blog/post_list.html', {})
# –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã render(), –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç HTTP-–æ—Ç–≤–µ—Ç.
# üìå render() ‚Äî —ç—Ç–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è Django –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ HTML-—à–∞–±–ª–æ–Ω–∞ (—Å–±–æ—Ä–∫–∏ (putting together) –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ HttpResponse.
#   –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å render() ‚Äî –ø—Ä–∏–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å, —à–∞–±–ª–æ–Ω –∏ —Å–ª–æ–≤–∞—Ä—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (context) –∏ –≤–µ—Ä–Ω—É—Ç—å HTTP-–æ—Ç–≤–µ—Ç —Å –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω–Ω—ã–º HTML-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
# üìå –ê—Ä–≥—É–º–µ–Ω—Ç—ã render():
# request
    # –û–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞ (HttpRequest), –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ view-—Ñ—É–Ω–∫—Ü–∏—é.
    # 'app_blog/post_list.html' - –ø—É—Ç—å –∫ HTML-—à–∞–±–ª–æ–Ω—É (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–∞–ø–∫–∏ templates).
# Django –∏—â–µ—Ç –µ–≥–æ –≤:
    # app_blog/
    # ‚îî‚îÄ‚îÄ templates/
    #     ‚îî‚îÄ‚îÄ app_blog/
    #         ‚îî‚îÄ‚îÄ post_list.html  # <- –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —Ñ–∞–π–ª
    # –ü–æ—á–µ–º—É app_blog/post_list.html, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ post_list.html?
        # ‚Üí –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, –µ—Å–ª–∏ –≤ –¥—Ä—É–≥–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å —à–∞–±–ª–æ–Ω —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º.
    # {} (–∫–æ–Ω—Ç–µ–∫—Å—Ç) - –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω.
        # –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω –ø—É—Å—Ç–æ–π ({}), –∑–Ω–∞—á–∏—Ç, –≤ —à–∞–±–ª–æ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∏–∫–∞–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
        # –ü—Ä–∏–º–µ—Ä —Å –¥–∞–Ω–Ω—ã–º–∏:
            # return render(request, 'app_blog/post_list.html', {
            #     'posts': Post.objects.all(),  # –ø–µ—Ä–µ–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
            #     'title': '–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞'
            # })

# request ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç. –≠—Ç–æ –æ–±—ä–µ–∫—Ç HttpRequest, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
# –î–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞ (GET, POST, headers, user, session –∏ —Ç. –¥.).
# –ú–µ—Ç–æ–¥—ã (request.method, request.GET.get() –∏ –¥—Ä.)

#     –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?
#       Django –ø–æ–ª—É—á–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, GET /).
#       –í—ã–∑—ã–≤–∞–µ—Ç—Å—è post_list(request).
#       –§—É–Ω–∫—Ü–∏—è render():
#         –ó–∞–≥—Ä—É–∂–∞–µ—Ç —à–∞–±–ª–æ–Ω post_list.html.
#         –†–µ–Ω–¥–µ—Ä–∏—Ç –µ–≥–æ (–ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å).
#         –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HttpResponse —Å –≥–æ—Ç–æ–≤—ã–º HTML


from django.http import HttpResponse


def contact_view(request, *args, **kwargs):
    return HttpResponse("<h1>Give me some break</h1")


def about_view(request, *args, **kwargs):
    #    return HttpResponse("<h1>Give me some break</h1")
    my_context = {
        'my_text': 'this is about my blog for you',
        'my_number': '+79067073192',
        'my_list': [123, 456, 789, 'abc'],
        'my_html': '<h1>Hello World</h1>'
    }
    return render(request, 'app_blog/about.html', my_context)

def home_view(request, *args, **kwargs):
   return render(request, 'app_blog/home.html', {})


def blog_detail_view(request):
    obj = Post.objects.get(id=1)
    context = {
        'object': obj
    }
    return render(request, 'app_blog/blog.html', context)

def html_rules(request):
    return render(request, 'app_blog/html_rules.html', {})